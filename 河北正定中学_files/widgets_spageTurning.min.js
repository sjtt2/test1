$define(["wgt_etree"],function(p){function g(n){for(var t=0;t<n.length;t++)p(n[t]).attr("animation_name")&&p(n[t]).attr("animation_duration")&&p(n[t]).attr("animation_delay")&&p(n[t]).css({animationName:p(n[t]).attr("animation_name"),animationDuration:p(n[t]).attr("animation_duration"),animationDelay:p(n[t]).attr("animation_delay"),animationDirection:"normal"})}function c(n){document.documentElement.clientWidth,document.documentElement.clientHeight;var i=function(n){if("string"==typeof n){return n.split(",").reverse().join(",")}};function e(n){var i=9999;if("string"==typeof n){var e=n.split(","),a="";return e.length<=1?a="0s":(p.each(e,function(n,t){parseFloat(t)<i&&(i=parseFloat(t))}),p.each(e,function(n,t){n>=e.length-1?a+=parseFloat(t)-i+"s":a+=parseFloat(t)-i+"s,"})),a}}!function(n){!function(n){for(var t=0;t<n.length;t++)if(p(n[t]).css("animationName")&&void 0===p(n[t]).attr("animation_name")){var i=new Object;i.name=p(n[t]).css("animationName"),i.delay=p(n[t]).css("animationDelay"),i.duration=p(n[t]).css("animationDuration"),p(n[t]).attr("animation_name",i.name),p(n[t]).attr("animation_duration",i.duration),p(n[t]).attr("animation_delay",i.delay)}}(n);for(var t=0;t<n.length;t++)p(n[t]).css("animationName")&&(p(n[t]).css("animationName","null"),n[t].getBoundingClientRect(),p(n[t]).css("animationDirection","reverse"),p(n[t]).css("animationName",i(p(n[t]).attr("animation_name"))),p(n[t]).css("animationDuration",i(p(n[t]).attr("animation_duration"))),p(n[t]).css("animationDelay",e(p(n[t]).attr("animation_delay"))))}(n)}function m(n,i){return n.map(function(n,t){return 0==t?undefined:n[i]})}function l(n){for(var t=0;t<n.length;t++)if(n[0]!=n[t])return!1;return!0}function w(n){g(n?v.container.find(".screen").eq(v.current-1-1).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"):v.container.find(".screen").eq(v.current).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"))}jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(n,t,i,e,a){return jQuery.easing[jQuery.easing.def](n,t,i,e,a)},easeInQuad:function(n,t,i,e,a){return e*(t/=a)*t+i},easeOutQuad:function(n,t,i,e,a){return-e*(t/=a)*(t-2)+i},easeInOutQuad:function(n,t,i,e,a){return(t/=a/2)<1?e/2*t*t+i:-e/2*(--t*(t-2)-1)+i},easeInCubic:function(n,t,i,e,a){return e*(t/=a)*t*t+i},easeOutCubic:function(n,t,i,e,a){return e*((t=t/a-1)*t*t+1)+i},easeInOutCubic:function(n,t,i,e,a){return(t/=a/2)<1?e/2*t*t*t+i:e/2*((t-=2)*t*t+2)+i},easeInQuart:function(n,t,i,e,a){return e*(t/=a)*t*t*t+i},easeOutQuart:function(n,t,i,e,a){return-e*((t=t/a-1)*t*t*t-1)+i},easeInOutQuart:function(n,t,i,e,a){return(t/=a/2)<1?e/2*t*t*t*t+i:-e/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(n,t,i,e,a){return e*(t/=a)*t*t*t*t+i},easeOutQuint:function(n,t,i,e,a){return e*((t=t/a-1)*t*t*t*t+1)+i},easeInOutQuint:function(n,t,i,e,a){return(t/=a/2)<1?e/2*t*t*t*t*t+i:e/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(n,t,i,e,a){return-e*Math.cos(t/a*(Math.PI/2))+e+i},easeOutSine:function(n,t,i,e,a){return e*Math.sin(t/a*(Math.PI/2))+i},easeInOutSine:function(n,t,i,e,a){return-e/2*(Math.cos(Math.PI*t/a)-1)+i},easeInExpo:function(n,t,i,e,a){return 0==t?i:e*Math.pow(2,10*(t/a-1))+i},easeOutExpo:function(n,t,i,e,a){return t==a?i+e:e*(1-Math.pow(2,-10*t/a))+i},easeInOutExpo:function(n,t,i,e,a){return 0==t?i:t==a?i+e:(t/=a/2)<1?e/2*Math.pow(2,10*(t-1))+i:e/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(n,t,i,e,a){return-e*(Math.sqrt(1-(t/=a)*t)-1)+i},easeOutCirc:function(n,t,i,e,a){return e*Math.sqrt(1-(t=t/a-1)*t)+i},easeInOutCirc:function(n,t,i,e,a){return(t/=a/2)<1?-e/2*(Math.sqrt(1-t*t)-1)+i:e/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(n,t,i,e,a){var s=1.70158,o=0,r=e;if(0==t)return i;if(1==(t/=a))return i+e;if(o||(o=.3*a),r<Math.abs(e)){r=e;s=o/4}else s=o/(2*Math.PI)*Math.asin(e/r);return-r*Math.pow(2,10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/o)+i},easeOutElastic:function(n,t,i,e,a){var s=1.70158,o=0,r=e;if(0==t)return i;if(1==(t/=a))return i+e;if(o||(o=.3*a),r<Math.abs(e)){r=e;s=o/4}else s=o/(2*Math.PI)*Math.asin(e/r);return r*Math.pow(2,-10*t)*Math.sin((t*a-s)*(2*Math.PI)/o)+e+i},easeInOutElastic:function(n,t,i,e,a){var s=1.70158,o=0,r=e;if(0==t)return i;if(2==(t/=a/2))return i+e;if(o||(o=a*(.3*1.5)),r<Math.abs(e)){r=e;s=o/4}else s=o/(2*Math.PI)*Math.asin(e/r);return t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/o)*-.5+i:r*Math.pow(2,-10*(t-=1))*Math.sin((t*a-s)*(2*Math.PI)/o)*.5+e+i},easeInBack:function(n,t,i,e,a,s){return s==undefined&&(s=1.70158),e*(t/=a)*t*((s+1)*t-s)+i},easeOutBack:function(n,t,i,e,a,s){return s==undefined&&(s=1.70158),e*((t=t/a-1)*t*((s+1)*t+s)+1)+i},easeInOutBack:function(n,t,i,e,a,s){return s==undefined&&(s=1.70158),(t/=a/2)<1?e/2*(t*t*((1+(s*=1.525))*t-s))+i:e/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+i},easeInBounce:function(n,t,i,e,a){return e-jQuery.easing.easeOutBounce(n,a-t,0,e,a)+i},easeOutBounce:function(n,t,i,e,a){return(t/=a)<1/2.75?e*(7.5625*t*t)+i:t<2/2.75?e*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?e*(7.5625*(t-=2.25/2.75)*t+.9375)+i:e*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(n,t,i,e,a){return t<a/2?.5*jQuery.easing.easeInBounce(n,2*t,0,e,a)+i:.5*jQuery.easing.easeOutBounce(n,2*t-a,0,e,a)+.5*e+i}}),Array.prototype.every||(Array.prototype.every=function(n,t){"use strict";var i,e;if(null==this)throw new TypeError("this is null or not defined");var a=Object(this),s=a.length>>>0;if("function"!=typeof n)throw new TypeError;for(1<arguments.length&&(i=t),e=0;e<s;){var o;if(e in a)if(o=a[e],!n.call(i,o,e,a))return!1;e++}return!0});var f,s,v,_,y,x=p(window).width(),b=p(window).height(),q=[],M=0,z=!0,E=!0,I=5;function P(n,t,i){this.current=1,this.size=n||3,this.time=t||500,this.type=i||[,1,1],this.container=p(".w_sfbox.container")}function S(){window.location.hash="#"+q[v.current-1]}function C(){window.location.hash="#"+q[v.current-1]}function O(n,t){for(var i=0,e=n.slice(Math.max(n.length-t,1)),a=0;a<e.length;a++)i+=e[a];return Math.ceil(i/t)}P.container=p(".w_sfbox.container"),P.bigStartTime=0,P.smallStartTime=0,P.prototype.on=function(n,t){this._callbacks||(this._callbacks={});return(this._callbacks[n]||(this._callbacks[n]=[])).push(t),this},P.prototype.trigger=function(){var n,t,i,e=Array.prototype.slice.call(arguments,0),a=e.shift();if(!this._callbacks)return this;if(!(n=this._callbacks[a]))return this;for(t=0,i=n.length;t<i;t++)n[t].apply(this,e);return this},P.prototype._play=function(i,e){var a=!1,s=this;a=i<e;i-=1,e-=1;var n=p(".w_sfbox.container").find(">.content").data("items"),o=m(n,"animEff"),r=m(n,"duration").map(function(n,t){return 1e3*n}),c=m(n,"delay").map(function(n,t){return 1e3*n});if(z=!1,function h(n){return 1==n[0]?n.slice(1).every(function(n,t){return 1==n}):-1==n[0]&&n.slice(1).every(function(n,t){return-1==n})}(this.type.slice(1))&&l(o.slice(1))&&l(r.slice(1))&&l(c.slice(1))){var t="";if(t=a?"-=":"+=",1==this.type[1])this.container.find(".screen").css({"float":"none"}),this.container.find(".content").css({width:"100%"}),this.container.animate({"margin-top":-(this.current-1)*b},{easing:o[1],duration:r[1],complete:function(){g(a?v.container.find(".screen").eq(v.current-1-1).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"):v.container.find(".screen").eq(v.current).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div")),p("body").trigger("DESIGN_TRANK")}}).delay(c[1]),this.container.promise().done(function(){z=!0});else{this.container.find(".screen, .p_footer").css({"float":"left",width:x}),this.container.find(".content").css({width:x*this.size}),this.container.css({"margin-left":-i*p(window).width(),"margin-top":0});for(var f=0;f<Math.abs(e-i);f++)this.container.animate({"margin-left":t+x},{easing:o[1],duration:r[1],complete:function(){w(a)}}).delay(c[1])}}else if(function u(n){for(var t=0,i=n.length;t<i;t++)if(/\*/.test(n[t]))return!0;return!1}(this.type.slice(1)))if(a)this.type.slice().forEach(function(n,t){i<t&&t<=e&&(1==n?(this.container.queue(function(){p(this).find(".screen").css({"float":"none"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".content").css({display:"block",width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(t+1-1-1)*b),p(this).dequeue()}),this.container.animate({"margin-top":-(t+1-1)*b},{easing:o[t],duration:r[t],complete:function(){z=!0,w(a)}}).delay(c[t])):-1==n?(this.container.queue(function(){p(this).find(".screen").css({"float":"left",width:x}),p(this).find(".p_footer").css({"float":"left",width:x}),p(this).find(".content").css({display:"block",width:x*s.size}),p(this).css("margin-top",0),p(this).css("margin-left",-(t+1-1-1)*x),p(this).dequeue()}),this.container.animate({"margin-left":-(t+1-1)*x},{easing:o[t],duration:r[t],complete:function(){z=!0,w(a)}}).delay(c[t])):"1*"==n?(this.container.queue(function(){p(this).find(".screen").css({"float":"none",width:"100%"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".screen").each(function(n,t){p(this).css({order:s.size-n})}),p(this).find(".p_footer").css({order:s.size+1}),p(this).find(".content").css({display:"flex","flex-direction":"column",width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(s.size-(t-1+1))*b),p(this).dequeue()}),this.container.animate({"margin-top":-(s.size-(t-1+1+1))*b},{easing:o[t],duration:r[t],complete:function(){z=!0,w(a)}}).delay(c[t])):"-1*"==n&&(this.container.queue(function(){p(this).find(".screen").css({"float":"right",width:x}),p(this).find(".p_footer").css({"float":"right",width:"100%"}),p(this).find(".content").css({display:"block",width:x*s.size}),p(this).css("margin-top",0),p(this).css("margin-left",-(s.size-(t+1-1))*x),p(this).dequeue()}),this.container.animate({"margin-left":-(s.size-(t+1))*x},{easing:o[t],duration:r[t],complete:function(){z=!0,w(a)}}).delay(c[t])))}.bind(this));else for(f=this.type.length-1;0<=f;f--)(function(n){n<=i&&e<n&&("1*"==this.type[n]?(this.container.queue(function(){p(this).find(".screen").css({"float":"none",width:"100%"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".screen").each(function(n,t){p(this).css({order:s.size-n})}),p(this).find(".p_footer").css({order:s.size+1}),p(this).find(".content").css({display:"flex","flex-direction":"column",width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(s.size-(n-1+1+1))*b),p(this).dequeue()}),this.container.animate({"margin-top":-(s.size-(n-1+1))*b},{easing:o[n],duration:r[n],complete:function(){z=!0,w(a)}}).delay(c[n])):"-1*"==this.type[n]?(this.container.queue(function(){p(this).find(".screen").css({"float":"right",width:x}),p(this).find(".p_footer").css({"float":"right",width:"100%"}),p(this).find(".content").css({display:"block",width:x*s.size}),p(this).css("margin-top",0),p(this).css("margin-left",-(s.size-(n+1))*x),p(this).dequeue()}),this.container.animate({"margin-left":-(s.size-(n+1-1))*x},{easing:o[n],duration:r[n],complete:function(){z=!0,w(a)}}).delay(c[n])):1==this.type[n]?(this.container.queue(function(){p(this).find(".screen").css({"float":"none"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".content").css({width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(n+1-1)*b),p(this).dequeue()}),this.container.animate({"margin-top":-(n+1-1-1)*b},{easing:o[n],duration:r[n],complete:function(){z=!0,w(a)}}).delay(c[n])):-1==this.type[n]&&(this.container.queue(function(){p(this).find(".screen").css({"float":"left",width:x}),p(this).find(".screen").css({"float":"left",width:x}),p(this).find(".content").css({width:x*s.size}),p(this).css("margin-top",0),p(this).css("margin-left",-(n+1-1)*x),p(this).dequeue()}),this.container.animate({"margin-left":-(n+1-1-1)*x},{easing:o[n],duration:r[n],complete:function(){z=!0,w(a)}}).delay(c[n])))}).bind(this)(f);else if(a)this.type.slice().forEach(function(n,t){i<t&&t<=e&&(1==n?(this.container.queue(function(){p(this).find(".screen").css({"float":"none"}),p(this).find(".content").css({width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(t+1-1-1)*b),p(this).dequeue()}),this.container.animate({"margin-top":-(t+1-1)*b},{easing:o[t],duration:r[t],complete:function(){z=!0,w(a),p("body").trigger("DESIGN_TRANK")}}).delay(c[t])):(this.container.queue(function(){p(this).find(".screen").css({"float":"left",width:x}),p(this).find(".content").css({width:x*s.size}),p(this).css("margin-top",0),p(this).css("margin-left",-(t+1-1-1)*x),p(this).dequeue()}),this.container.animate({"margin-left":-(t+1-1)*x},{easing:o[t],duration:r[t],complete:function(){z=!0,w(a),p("body").trigger("DESIGN_TRANK")}}).delay(c[t])))}.bind(this));else for(var d=this.type.length-1;0<=d;d--)(function(n){n<=i&&e<n&&(1==this.type[n]?(this.container.queue(function(){p(this).find(".screen").css({"float":"none"}),p(this).find(".content").css({width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(n+1-1)*b),p(this).dequeue()}),this.container.animate({"margin-top":-(n+1-1-1)*b},{easing:o[n],duration:r[n],complete:function(){z=!0,w(a)}}).delay(c[n])):(this.container.queue(function(){p(this).find(".screen").css({"float":"left",width:x}),p(this).find(".content").css({width:x*s.size}),p(this).css("margin-top",0),p(this).css("margin-left",-(n+1-1)*x),p(this).dequeue()}),this.container.animate({"margin-left":-(n+1-1-1)*x},{easing:o[n],duration:r[n],complete:function(){z=!0,w(a)}}).delay(c[n])))}).bind(this)(d)},P.prototype.init=function(){var i=0;p(".w_sfbox.container").find(".screen").show(),p(".screen").height(b),p(".w_sfbox.container").parent().height(b).width("100%"),p(".w_sfbox.container").parent().parent().css({overflow:"hidden",width:"100%",position:"fixed"}),p(".w_sfbox.container").find(".p_SwipPanelBox").css("z-index",2e4),p(".w_sfbox.container").find(".p_SwipPanelBox .p_SwipPanel").removeClass("active"),p(".w_sfbox.container").find(".p_SwipPanelBox .p_SwipPanel").eq(0).addClass("active"),p(".w_sfbox.container").find(">div.content").data("items").forEach(function(n,t){n.url,n.color}),s=p(".w_sfbox.container").find(">.content").data("items"),(q=s.map(function(n,t){return n.anchor})).forEach(function(n,t){n==location.hash.substring(1)&&(i=t)}),p(".w_sfbox.container").find(".p_SwipPanelBox .p_SwipPanel").removeClass("active"),p(".w_sfbox.container").find(".p_SwipPanelBox .p_SwipPanel").eq(i).addClass("active");var n=function a(){for(var n=location.hash.substring(1),t=0,i=0;i<q.length;i++)if(q[i]==n){t=i;break}return t}()+1,t=s[n-1].flag,e={width:x};v.container.parent().css("left",-p(".pagebox").offset().left),0!=t&&(1==t?(e["float"]="none",v.container.css("margin-top","-"+(n-1)*b+"px")):-1==t?(e["float"]="left",v.container.css("margin-left","-"+(n-1)*x+"px")):"1*"==t?(e["float"]="none",v.container.css("margin-top","-"+(v.size-n)*b+"px")):"-1*"==t&&(e["float"]="left",v.container.css("margin-left","-"+(v.size-n)*x+"px"))),v.container.find(".p_footer").css({"float":"left",width:x}),v.container.find(".screen").css(e),v.container.find(".content").css({width:x*v.size}),v.set(n)},P.prototype.getCurrent=function(){return this.current},P.prototype.set=function(n){this.current=n},P.prototype.setCurrent=function(n){if(!(n<1||n>this.size)){var t=this.current;n>this.size?this.current=this.size:this.current=n<1?1:n,this.trigger("change"),this._play(t,n),this.trigger("after")}};return{init:function(){var n,d=[];if(n=window.isFrontEnv(),f=p(".w_sfbox.container").find(">div").data("hasfooter"),n){p("body").css("overflow","hidden"),x=p(window).width(),b=p(window).height();var s=p(".w_sfbox.container").find(">.content").data("items"),t=0,i=m(s,"flag");v=new P(i.length,500,i),(window.base=v).container.find("div.p_fbox .tips").hide(),v.on("change",function(){var n=this.getCurrent();z=!1,this.container.find(".p_SwipPanelBox .p_SwipPanel").removeClass("active"),this.container.find(".p_SwipPanelBox .p_SwipPanel").eq(n-1).addClass("active")}),v.on("after",function(){this.container.promise().done(function(){z=!0,S(),C()})}),v.init(),p(window).resize(function(){p(".w_sfbox.container").parent().height(p(window).height()).css("left",-p(".pagebox").offset().left),p(".w_sfbox.container").parent().parent().css({overflow:"hidden",width:"100%",position:"fixed"}),x=p(window).width(),b=p(window).height(),p(".screen").height(b).width(x);var n=v.getCurrent();v.container.stop(!0,!0);var t=s[n-1].flag;0!=t&&(1==t?v.container.css("margin-top","-"+(n-1)*b+"px"):-1==t?v.container.css("margin-left","-"+(n-1)*x+"px"):"1*"==t?v.container.css("margin-top","-"+(v.size-n)*b+"px"):"-1*"==t&&v.container.css("margin-left","-"+(v.size-n)*x+"px"))}),p(window).on("hashchange",function(){var i=v.current,n=s[i-1].flag;if(i=location.hash.substring(1).replace(/[^\d]*(\d+)/,"$1"),0==n||1!=n||v.container.css("margin-top")!="-"+(i-1)*b+"px"){(function a(n){for(var t=n.map(function(n,t){return n.flag})||[],i=0;i<t.length;i++)if("-1"!=t[i])return!0;return!1})(s)&&(z=!1);var e=window.location.hash.slice(1);q.forEach(function(n,t){n==e&&(i=t+1)}),0!=n&&(1==n?(0==parseFloat(v.container.css("margin-top"))&&0!=parseFloat(v.container.css("margin-left"))||v.container.animate({"margin-top":"-"+(i-1)*b+"px"},{easing:s[0].animEff,duration:1e3*s[0].duration,complete:function(){z=!0}}),v.current=i):-1==n?v.container.animate({"margin-left":"-"+(i-1)*x+"px"},{easing:s[0].animEff,duration:1e3*s[0].duration,complete:function(){}}):"1*"==n?v.container.css("margin-top","-"+(v.size-i)*b+"px"):"-1*"==n&&v.container.css("margin-left","-"+(v.size-i)*x+"px"))}});var o,e,r=0,a=0;p(window).on("orientationchange",function(n){p(window).trigger("resize")}),p(document).on("touchstart",function(n){e=n.originalEvent.changedTouches[0].pageX,a=n.originalEvent.changedTouches[0].pageY}),p(window).on("touchend",function(n){if(z){var t=n.originalEvent.changedTouches[0].pageX-e,i=n.originalEvent.changedTouches[0].pageY-a;Math.abs(i)>Math.abs(t)&&(0<i?l():i<0&&u())}});var h=(new Date).getTime();function u(){if(--t%1==0)if(P.smallStartTime=0,f&&v.getCurrent()==v.size&&M%2==0)M++,v.container.queue(function(){p(this).find(".screen").css({"float":"none"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".content").css({width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",-(v.size-1)*b),p(this).dequeue()}),z=!1,v.container.animate({"margin-top":"-="+v.container.find(">div").data("height")},{easing:v.container.find(">div").data("footeranimEff"),duration:v.container.find(">div").data("footerduration")/1*1e3,complete:function(){}}).delay(v.container.find(">div").data("footerdelay")/1*1e3),v.container.promise().done(function(){z=!0}),v.container.find(".p_footer").hide().css("width"),v.container.find(".p_footer").show();else{if(o=v.current,v.current==v.size)return;c(v.container.find(".screen").eq(v.current-1).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div")),p("body").trigger("ND_RefreshCompNew",{screenIndex:v.current+1}),v.container.find(".screen").eq(v.current).hide().css("width"),v.container.find(".screen").eq(v.current).show(),v.setCurrent(v.getCurrent()+1)}}function l(){if(--t%1==0)if(P.bigStartTime=0,f&&v.getCurrent()==v.size&&M%2!=0)M--,z=!1,v.container.animate({"margin-top":"+="+v.container.find(">div").data("height")},{easing:v.container.find(">div").data("footeranimEff"),duration:v.container.find(">div").data("footerduration")/1*1e3,complete:function(){}}).delay(v.container.find(">div").data("footerdelay")/1*1e3),v.container.promise().done(function(){z=!0});else{if(o=v.current-2,1==v.current)return;c(v.container.find(".screen").eq(v.current-1).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div")),p("body").trigger("ND_RefreshCompNew",{screenIndex:v.current-1}),v.container.find(".screen").eq(v.current-1-1).hide().css("width"),v.container.find(".screen").eq(v.current-1-1).show(),v.setCurrent(v.getCurrent()-1)}}p(window).on("mousewheel DOMMouseScroll",function(n){var t=(new Date).getTime();if(v.container.is(":animated"))return n.stopPropagation(),n.preventDefault(),!1;if(z){var i=n.originalEvent.wheelDelta||-n.originalEvent.deltaY||-n.originalEvent.detail,e=Math.max(-1,Math.min(1,i)),a="undefined"!=typeof n.originalEvent.wheelDeltaX||"undefined"!=typeof n.originalEvent.deltaX,s=Math.abs(n.originalEvent.wheelDeltaX)<Math.abs(n.originalEvent.wheelDelta)||Math.abs(n.originalEvent.deltaX)<Math.abs(n.originalEvent.deltaY)||!a;149<d.length&&d.shift(),d.push(Math.abs(i));var o=t-h;if(h=t,200<o&&(d=[]),E){var r=O(d,10);O(d,70)<=r&&s&&(E=!1,o<1050?e!=I?0<e?(l(),I=e):e<0&&(u(),I=e):function c(){clearTimeout(y),y=setTimeout(function(){I=5},700)}():(e<0?u():l(),I=e),function f(){clearTimeout(_),_=setTimeout(function(){E=!0},700)}())}return!1}}),v.container.find(".p_SwipPanelBox .p_SwipPanel").click(function(){if(z=!1,0==r&&(r=1,setTimeout(function(){r=0},500),p(this).index()!=o&&p(this).index()!=v.current-1)){o=p(this).index(),v.container.find(".p_SwipPanelBox .p_SwipPanel").removeClass("active"),v.container.find(".p_SwipPanelBox .p_SwipPanel").eq(p(this).index()).addClass("active"),v.current-1!=p(this).index()&&c(v.container.find(".screen").eq(v.current-1).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"));var n=p(this).index(),t=p(".w_sfbox.container").find(">.content").data("items"),i=t.map(function(n,t){return n.animEff}),e=t.map(function(n,t){return 1e3*n.duration});if(m(t,"delay").map(function(n,t){return 1e3*n}),setTimeout(function(){v.container.find(".screen").eq(n).hide().css("width"),v.container.find(".screen").eq(n).show()},(Math.abs(p(this).index()-(v.current-1))-1)/Math.abs(p(this).index()-(v.current-1))*e[n]),1==t[n].flag)v.container.queue(function(){p(this).find(".screen").css({"float":"none"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".content").css({width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",v.container.css("margin-top")),p(this).dequeue()}),v.container.stop().animate({"margin-top":-n*b},e[n],i[n],function(){z=!0,g(v.container.find(".screen").eq(v.current-1).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div")),v.set(n+1)});else if(-1==t[n].flag)v.container.queue(function(){p(this).find(".screen, .p_footer").css({"float":"left",width:x}),p(this).find(".screen").css({"float":"left",width:x}),p(this).find(".content").css({width:x*v.size}),p(this).css("margin-top",0),p(this).css("margin-left",v.container.css("margin-left")),p(this).dequeue()}),v.container.stop().animate({"margin-left":-n*x},e[n],i[n],function(){v.set(n+1),z=!0,g(v.container.find(".screen").eq(n).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"))});else if("1*"==t[n].flag){var a;a=1==v.current?-(v.size-0-1)*b:v.container.css("margin-top"),v.container.queue(function(){p(this).find(".screen").css({"float":"none",width:"100%"}),p(this).find(".p_footer").css({"float":"none",width:"100%"}),p(this).find(".screen").each(function(n,t){p(this).css({order:v.size-n})}),p(this).find(".p_footer").css({order:v.size+1}),p(this).find(".content").css({display:"flex","flex-direction":"column",width:"100%"}),p(this).css("margin-left",0),p(this).css("margin-top",a),p(this).dequeue()}),v.container.stop().animate({"margin-top":-(v.size-n-1)*b},e[n],i[n],function(){v.set(n+1),z=!0,g(v.container.find(".screen").eq(n).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"))})}else if("-1*"==t[n].flag){var s;1==v.current&&(s=v.container.is(":animated")?v.container.css("margin-left"):-(v.size-0-1)*x),v.container.queue(function(){p(this).find(".screen").css({"float":"right",width:x}),p(this).find(".p_footer").css({"float":"right",width:"100%"}),p(this).find(".content").css({display:"block",width:x*v.size}),p(this).css("margin-top",0),p(this).css("margin-left",s),p(this).dequeue()}),v.container.stop().animate({"margin-left":-(v.size-n-1)*x},e[n],i[n],function(){v.set(n+1),z=!0,g(v.container.find(".screen").eq(n).find("div[id^='c_'] > div:first-of-type,div[id^='w_'] > div"))})}p("body").trigger("ND_RefreshCompNew",{screenIndex:p(this).index()+1}),v.container.promise().done(function(){S(),C()})}})}else p(".w_sfbox.container").parent().height(b).width("100%"),p(".w_sfbox.container").parent().parent().css({overflow:"hidden",width:"100%",position:"fixed"}),p(".w_sfbox").each(function(){var t=p(this);function n(){var n=t.find(".screen");t.find(">div.p_fbox .tips").css({"z-index":1e4,"font-style":"normal"}),t.find(">div.p_fbox .tips").each(function(n,t){p(this).css("top",0*p(parent.window).height()+p(parent.window).height()/2)}),t.find(">div.p_fbox .tips").hide(),n.each(function(n){p(this).height(p(parent.window).height()-41)}),t.parent().height(p(parent.window).height()-41),n.each(function(n,t){p(this).hasClass("current")||p(this).hide()}),f&&t.find(">div").data("current")/1==t.find(">div").data("items").length&&(n.hide(),n.eq(t.find(">div").data("current")/1-1).show().height(p(parent.window).height()-41-t.find(">div").data("height")/1),t.find(".p_SwipPanelBox .p_SwipPanel").eq(t.find(">div").data("current")/1-1).addClass("active"))}p(window).on("resize",function(){n()}),n()}),top.M.Panel.Components.getFPDfd().done(function(){p(".w_sfbox.container .tips").hide()})}}});